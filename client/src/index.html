<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>threejs test</title>

    <!-- GENERATED DEPS HERE -->
</head>
<body onload="start()" style="padding: 0; margin: 0;">
<script type="text/javascript">
    var start = function () {
        (function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='//rawgit.com/mrdoob/stats.js/master/build/stats.min.js';document.head.appendChild(script);})()

        var f = FacadeConstructor()
        f.getRender().init()
        f.getRender().getCamera().position.z = 4

        f.loadResource('assets/models/hex_test_tex.png').then((texture) => {
            f.loadResource('assets/models/hex_test.obj').then((obj) => {
                obj.traverse(child => {
                    if (child instanceof THREE.Mesh) {
                        child.material = new THREE.MeshPhongMaterial(
                            {
                                color: 0xffffff,
                                side: THREE.DoubleSide,
                                map: texture
                            }
                        )
                    }
                })
                f.getRender().addObject(obj)
                f.getRender().renderBehaviour.add(() => {
//                    obj.rotation.x += 0.02
                    obj.rotation.y += 0.01
                })
            })
        })


    }
</script>



</body>
</html>